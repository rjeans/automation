# Main kustomization for the Talos cluster
# This loads infrastructure first, then apps
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Load Helm repositories first (needed by infrastructure)
  - sources/helm-repositories.yaml
  # Load infrastructure.yaml (contains infrastructure kustomization)
  - infrastructure.yaml
  # Then load apps.yaml (contains apps kustomization with dependsOn: infrastructure)
  - apps.yaml
